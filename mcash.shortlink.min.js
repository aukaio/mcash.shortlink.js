(function(e,t){typeof define=="function"&&define.amd?define([],function(){return e.mCASH=t(),e.mCASH}):e.mCASH=t()})(this,function(){"use strict";var e="https://itunes.apple.com/no/app/mcash/id550136730?mt=8",t="https://api.mca.sh/shortlink/v1/qr_image/",n="http://mca.sh/s/",r="assets/images/mCASH_logo.png",i="assets/images/mCASH_logo_white.png",s="assets/css/button.css",o="assets/css/qr.css",u=!1,a={no:"Betal med",en:"Pay with"},f="https://itunes.apple.com/no/app/mcash/id550136730?mt=8",l="https://play.google.com/store/apps/details?id=no.mcash",c=function(){return navigator.userAgent.match(/iPhone|iPad|iPod|Android|Dalvik/)},h=function(){var e,t,n;for(n=0;n<document.scripts.length;n++){t=document.scripts[n].src&&document.scripts[n].src.match(/^(.*)mcash\.shortlink\.js$/);if(t&&t[1])return e=document.createElement("a"),e.href=t[1],e.pathname}return"/"},p=function(t){var n="mcash://qr?code="+t;navigator.userAgent.match(/Android|Dalvik/)?location.href=t:(location.href=n,u||setTimeout(function(){location.href=e},300))},d=function(e,t){if(!document.getElementById(e)){var n=document.getElementsByTagName("head"),r=document.createElement("link");n||(n=[document.createElement("head")],document.body.appendChild(n[0])),r.rel="stylesheet",r.id=e,r.type="text/css",r.href=t,n[0].appendChild(r)}},v=function(e,t,o,u){var f=e.getAttribute("data-mcash-lang")||"no",l=a[f]||a.no,c,h,v,m;d("shortlinkcss",o+s),m=document.createElement("div"),m.className="mcash-wrapper",c=document.createElement("span"),c.className="mcash-label",c.innerHTML=l,h=document.createElement("img"),h.src=o+(u?i:r),v=document.createElement("button"),v.type="button",v.className="paywithmcash"+(u?" mcash-green":""),v.onclick=function(){p(n+t)},v.appendChild(h),v.appendChild(c),m.appendChild(v),e.appendChild(m)},m=function(e,n,s,u){var a,c,h,p,v,m;d("qrcss",s+o),m=document.createElement("div"),m.className="mcash-wrapper"+(u?" mcash-green":""),v=document.createElement("img"),v.src=t+n,v.className="mcash-qr-image",p=document.createElement("div"),p.setAttribute("class","mcash-nav"),h=document.createElement("img"),h.setAttribute("src",s+r),h.setAttribute("class","mcash-logo"),c=document.createElement("a"),c.setAttribute("href",f),c.setAttribute("class","mcash-link mcash-ios"),c.setAttribute("target","_blank"),c.setAttribute("title","Download mCASH from App Store"),c.innerHTML="iOS",a=document.createElement("a"),a.setAttribute("href",l),a.setAttribute("class","mcash-link mcash-android"),a.setAttribute("target","_blank"),a.setAttribute("title","Download mCASH from Google Play"),a.innerHTML="Android",p.appendChild(h),p.appendChild(c),p.appendChild(a),u?(h.src=s+i,c.setAttribute("class","mcash-link mcash-ios-w"),a.setAttribute("class","mcash-link mcash-android-w")):h.src=s+r,m.appendChild(v),m.appendChild(p),e.appendChild(m)},g={};return g.displayQRorButton=function(){var e=document.getElementsByClassName("mcash-shortlink"),t=c(),n,r,i,s=h(),o;for(o=0;o<e.length;o++)n=e[o],i=n.getAttribute("data-shortlink-id"),i&&i.trim()&&(i=i.trim()+"/"+(n.getAttribute("data-shortlink-argstring")||""),r=n.getAttribute("data-alternate")==="true",t?v(n,i,s,r):m(n,i,s,r))},g});